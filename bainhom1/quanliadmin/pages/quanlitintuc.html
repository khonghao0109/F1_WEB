<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>F1 Admin Dashboard - Quản lý tin tức</title>
    <link rel="stylesheet" href="../css/quanlitintuc.css">
    <script src="../js/auth.js" defer></script>
</head>
<body>

    <div class="top-bar">
        <div class="logo-container">
            <img src="../images/fia-logo.png" alt="FIA Logo" class="logo">
        <div style="display: flex; gap: 20px; margin-left: 20px;">
            <span style="font-weight: bold;">F1®</span>
            <span>F2™</span>
            <span>F3™</span>
            <span>F1® ACADEMY</span>
        </div>
        </div>
        <div class="top-nav" id="authArea">
        <button class="login-btn" id="loginBtn">ĐĂNG NHẬP</button>
        </div>
    </div>

    <div class="main-nav">
        <div class="main-nav-container">
            <img src="../images/f1-logo.png" alt="F1 Logo" class="f1-logo">
        <div class="main-menu">
            <a href="index.html" class="main-menu-item">Bảng điều khiển</a>
            <a href="quanlitintuc.html" class="main-menu-item active">Quản lý tin tức</a>
            <a href="quanligiaidau.html" class="main-menu-item">Quản lý giải đấu</a>
            <a href="quanlitaydua.html" class="main-menu-item">Quản lý tay đua</a>
            <a href="quanlidoi.html" class="main-menu-item">Quản lý đội đua</a>
        </div>
        </div>
    </div>

    <div class="content">
        <div class="admin-header">
            <h1>Quản lý tin tức</h1>
            <p>Quản lý và theo dõi tất cả bài viết tin tức trong hệ thống.</p>
        </div>

        <div class="quick-actions">
            <button class="action-btn primary-action" onclick="openAddNewsModal()">+ Thêm tin tức mới</button>
        </div>
        
        <div class="dashboard-grid">
            <div class="dashboard-card" style="grid-column: 1 / -1;">
                <div class="card-header">
                    <h2 class="card-title">Danh sách bài viết</h2>
                </div>
                <div class="search-bar">
                    <input type="text" class="search-input" id="searchInput" placeholder="Tìm kiếm bài viết theo tiêu đề...">
                    <button class="search-btn" onclick="searchArticles()">Tìm kiếm</button>
                </div>
                <table class="news-table">
                    <thead>
                        <tr>
                            <th style="width: 10%;">Hình ảnh</th>
                            <th style="width: 30%;">Tiêu đề</th>
                            <th style="width: 15%;">Tác giả</th>
                            <th style="width: 15%;">Ngày đăng</th>
                            <th style="width: 10%;">Lượt xem</th>
                            <th style="width: 10%;">Chia sẻ</th>
                            <th style="width: 25%;">Hành động</th>
                        </tr>
                    </thead>
                    <tbody id="articleTableBody">
                    </tbody>
                </table>
            </div>
        </div>
    
        <!-- Preview Modal -->
        <div class="preview-modal hidden" id="previewModal">
            <div class="preview-content">
                <button class="close-btn" onclick="closePreview()">×</button>
                <img src="/api/placeholder/600/300" alt="Article Image" class="preview-image" id="previewImage">
                <h2 class="preview-title" id="previewTitle"></h2>
                <p class="preview-meta" id="previewMeta"></p>
                <div class="preview-body" id="previewBody"></div>
            </div>
        </div>

        <!-- Add News Modal -->
        <div class="preview-modal hidden" id="addNewsModal">
            <div class="preview-content">
                <button class="close-btn" onclick="closeAddNewsModal()">×</button>
                <h2 class="preview-title">Thêm Tin Tức Mới</h2>
                <div class="add-news-form">
                    <label for="newsTitle">Tiêu đề:</label>
                    <input type="text" id="newsTitle" placeholder="Nhập tiêu đề..." required>
                    
                    <label for="newsAuthor">Tác giả:</label>
                    <input type="text" id="newsAuthor" placeholder="Nhập tác giả..." required>
                    
                    <label for="newsDate">Ngày đăng:</label>
                    <input type="date" id="newsDate" required>
                    
                    <label for="newsImage">URL hình ảnh:</label>
                    <input type="text" id="newsImage" placeholder="Nhập URL hình ảnh...">
                    
                    <label for="newsAvatar">URL ảnh tác giả:</label>
                    <input type="text" id="newsAvatar" placeholder="Nhập URL ảnh tác giả...">
                    
                    <label for="newsContent">Nội dung:</label>
                    <textarea id="newsContent" rows="5" placeholder="Nhập nội dung bài viết..." required></textarea>
                    
                    <label for="newsLink">Liên kết bài viết (nếu có):</label>
                    <input type="text" id="newsLink" placeholder="Nhập liên kết bài viết...">
                    
                    <button class="action-btn primary-action" onclick="addNews()">Thêm</button>
                </div>
            </div>
        </div>
    </div>
    
    <script src="../js/quanlitintuc.js"></script>
    <script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'93db4d5aebc8bd25',t:'MTc0Njg5OTY3MC4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script>
</body>
</html>